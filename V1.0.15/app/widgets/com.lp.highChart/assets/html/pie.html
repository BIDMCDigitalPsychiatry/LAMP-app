<!DOCTYPE HTML>
<html>
	<head>
		<meta name="viewport" content="width=device-width">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title></title>
		<script src="jquery.min.js"></script>
		<script src="highcharts.js"></script>
		<script src="exporting.js"></script>
		<script type="text/javascript">
		Ti.App.addEventListener('graphCareer', function(data) {
				var region = data.region;
				var s1 = data.s1;
				var s2 = data.s2;
				var s4 = data.t1;
				var s5 = data.t2;
				var s6 = data.t3;
				var s7 = data.t4;
				plotChart(region, s1, s2, s4, s5, s6, s7);
			});
			function plotChart(cat, mtd, ytd, yourAvg, totalAvg, title1, title2) {
				//Ti.API.info('Webview cat : ' + cat + "mtd : " + mtd + " ytd :" + ytd);

				new Highcharts.chart('container', {
					chart : {
						type : 'column',
						spacingLeft : 0,
						marginLeft : 50,
					},
					title : {
						text :title1

					},
					xAxis : {
						categories : cat,
						crosshair : true
					},
					yAxis : {
						min : 0,
						max : 100,
						title : {
							text : title2,
							margin : 0
						},
					},
					legend : {
						enabled : true
					},
					credits : {
						enabled : false
					},
					exporting : {
						enabled : false
					},
					tooltip : {
						headerFormat : '<span style="font-size:10px">{point.key}</span><table>',
						pointFormat : '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' + '<td style="padding:0"><b>{point.y:.1f}</b></td></tr>',
						footerFormat : '</table>',
						shared : true,
						useHTML : true
					},
					plotOptions : {
						column : {
							pointPadding : 0.2,
							borderWidth : 0
						}
					},
					series : [{
						name : yourAvg,
						data : mtd

					}, {
						name : totalAvg,
						data : ytd,
						color : '#B3D533'

					}]
				});
			}
		</script>
	</head>

	<body>
		<div id="container" style="min-width: 310px; height: 500px; margin: 0 auto"></div>
	</body>
</html>
